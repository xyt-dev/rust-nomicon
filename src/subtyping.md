# ’ñ ä…Æ»∂ è÷Ñ…®’º…¢ «ü’º…ñ ∆≤«ü Ä…®«ü’º∆à…õ

∆¶ ä÷Ü»∂  ä÷Ü…õ÷Ü  ü…® Ñ…õ»∂…® ç…õ÷Ü »∂÷Ö »∂ Ä«ü∆à”Ñ »∂…¶…õ  Ä…õ ü«ü»∂…®÷Ö’º÷Ü…¶…®÷Ñ÷Ü …Æ…õ»∂’°…õ…õ’º …Æ÷Ö Ä Ä÷Ö’°÷Ü «ü’º…ñ ÷Ö’°’º…õ Ä÷Ü…¶…®÷Ñ.
”á÷Ö’°…õ ã…õ Ä, «ü ’º«ü…® ã…õ …® ç÷Ñ ü…õ ç…õ’º»∂«ü»∂…®÷Ö’º ÷Ö Ñ  ü…® Ñ…õ»∂…® ç…õ÷Ü ’°÷Ö ä ü…ñ …Æ…õ …õ…®»∂…¶…õ Ä »∂÷Ö÷Ö  Ä…õ÷Ü»∂ Ä…®∆à»∂…® ã…õ,
÷Ö Ä ÷Ñ…õ Ä ç…®»∂  ä’º…ñ…õ Ñ…®’º…õ…ñ …Æ…õ…¶«ü ã…®÷Ö Ä.

∆ó’º ÷Ö Ä…ñ…õ Ä »∂÷Ö «ü ü ü÷Ö’°  Ñ ü…õ”º…®…Æ ü…õ  ä÷Ü«ü…¢…õ ÷Ö Ñ  ü…® Ñ…õ»∂…® ç…õ÷Ü
’°…¶…® ü…õ «ü ü÷Ü÷Ö ÷Ñ Ä…õ ã…õ’º»∂…®’º…¢ »∂…¶…õ…® Ä  ç…®÷Ü ä÷Ü…õ, ∆¶ ä÷Ü»∂  ä÷Ü…õ÷Ü **÷Ü ä…Æ»∂ è÷Ñ…®’º…¢** «ü’º…ñ ** ã«ü Ä…®«ü’º∆à…õ**.

≈Å…õ»∂'÷Ü ÷Ü»∂«ü Ä»∂ ’°…®»∂…¶ «ü’º …õ”º«ü ç÷Ñ ü…õ.

```rust
// Note: debug expects two parameters with the *same* lifetime
fn debug<'a>(a: &'a str, b: &'a str) {
    println!("a = {a:?} b = {b:?}");
}

fn main() {
    let hello: &'static str = "hello";
    {
        let world = String::from("world");
        let world = &world; // 'world has a shorter lifetime than 'static
        debug(hello, world);
    }
}
```

∆ó’º «ü ∆à÷Ö’º÷Ü…õ Ä ã«ü»∂…® ã…õ …® ç÷Ñ ü…õ ç…õ’º»∂«ü»∂…®÷Ö’º ÷Ö Ñ  ü…® Ñ…õ»∂…® ç…õ÷Ü, ÷Ü…®’º∆à…õ `…¶…õ ü ü÷Ö` «ü’º…ñ `’°÷Ö Ä ü…ñ` …¶«ü ã…õ …ñ…® Ñ Ñ…õ Ä…õ’º»∂  ü…® Ñ…õ»∂…® ç…õ÷Ü,
’°…õ  ç…®…¢…¶»∂ ÷Ü…õ…õ »∂…¶…õ  Ñ÷Ö ü ü÷Ö’°…®’º…¢ …õ Ä Ä÷Ö Ä:

```text
error[E0308]: mismatched types
 --> src/main.rs:10:16
   |
10 |         debug(hello, world);
   |                      ^
   |                      |
   |                      expected `&'static str`, found struct `&'world str`
```

∆¨…¶…®÷Ü ’°÷Ö ä ü…ñ …Æ…õ  Ä«ü»∂…¶…õ Ä  ä’º Ñ÷Ö Ä»∂ ä’º«ü»∂…õ. ∆ó’º »∂…¶…®÷Ü ∆à«ü÷Ü…õ,
’°…¶«ü»∂ ’°…õ ’°«ü’º»∂ …®÷Ü »∂÷Ö «ü∆à∆à…õ÷Ñ»∂ «ü’º è »∂ è÷Ñ…õ »∂…¶«ü»∂  ü…® ã…õ÷Ü *«ü»∂  ü…õ«ü÷Ü»∂ «ü÷Ü  ü÷Ö’º…¢* «ü÷Ü `'’°÷Ö Ä ü…ñ`.
≈Å…õ»∂'÷Ü »∂ Ä è  ä÷Ü…®’º…¢ ÷Ü ä…Æ»∂ è÷Ñ…®’º…¢ ’°…®»∂…¶ ÷Ö ä Ä  ü…® Ñ…õ»∂…® ç…õ÷Ü.

## ’ñ ä…Æ»∂ è÷Ñ…®’º…¢

’ñ ä…Æ»∂ è÷Ñ…®’º…¢ …®÷Ü »∂…¶…õ …®…ñ…õ«ü »∂…¶«ü»∂ ÷Ö’º…õ »∂ è÷Ñ…õ ∆à«ü’º …Æ…õ  ä÷Ü…õ…ñ …®’º ÷Ñ ü«ü∆à…õ ÷Ö Ñ «ü’º÷Ö»∂…¶…õ Ä.

≈Å…õ»∂'÷Ü …ñ…õ Ñ…®’º…õ »∂…¶«ü»∂ `’ñ ä…Æ` …®÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `’ñ ä÷Ñ…õ Ä` (’°…õ' ü ü …Æ…õ  ä÷Ü…®’º…¢ »∂…¶…õ ’º÷Ö»∂«ü»∂…®÷Ö’º `’ñ ä…Æ <: ’ñ ä÷Ñ…õ Ä` »∂…¶ Ä÷Ö ä…¢…¶÷Ö ä»∂ »∂…¶…®÷Ü ∆à…¶«ü÷Ñ»∂…õ Ä).

∆ú…¶«ü»∂ »∂…¶…®÷Ü …®÷Ü ÷Ü ä…¢…¢…õ÷Ü»∂…®’º…¢ »∂÷Ö  ä÷Ü …®÷Ü »∂…¶«ü»∂ »∂…¶…õ ÷Ü…õ»∂ ÷Ö Ñ * Ä…õ’¶ ä…® Ä…õ ç…õ’º»∂÷Ü* »∂…¶«ü»∂ `’ñ ä÷Ñ…õ Ä` …ñ…õ Ñ…®’º…õ÷Ü
«ü Ä…õ ∆à÷Ö ç÷Ñ ü…õ»∂…õ ü è ÷Ü«ü»∂…®÷Ü Ñ…®…õ…ñ …Æ è `’ñ ä…Æ`. `’ñ ä…Æ`  ç«ü è »∂…¶…õ’º …¶«ü ã…õ  ç÷Ö Ä…õ  Ä…õ’¶ ä…® Ä…õ ç…õ’º»∂÷Ü.

’å÷Ö’°, …®’º ÷Ö Ä…ñ…õ Ä »∂÷Ö  ä÷Ü…õ ÷Ü ä…Æ»∂ è÷Ñ…®’º…¢ ’°…®»∂…¶  ü…® Ñ…õ»∂…® ç…õ÷Ü, ’°…õ ’º…õ…õ…ñ »∂÷Ö …ñ…õ Ñ…®’º…õ »∂…¶…õ  Ä…õ’¶ ä…® Ä…õ ç…õ’º»∂ ÷Ö Ñ «ü  ü…® Ñ…õ»∂…® ç…õ:

> `'«ü` …ñ…õ Ñ…®’º…õ÷Ü «ü  Ä…õ…¢…®÷Ö’º ÷Ö Ñ ∆à÷Ö…ñ…õ.

’å÷Ö’° »∂…¶«ü»∂ ’°…õ …¶«ü ã…õ «ü …ñ…õ Ñ…®’º…õ…ñ ÷Ü…õ»∂ ÷Ö Ñ  Ä…õ’¶ ä…® Ä…õ ç…õ’º»∂÷Ü  Ñ÷Ö Ä  ü…® Ñ…õ»∂…® ç…õ÷Ü, ’°…õ ∆à«ü’º …ñ…õ Ñ…®’º…õ …¶÷Ö’° »∂…¶…õ è  Ä…õ ü«ü»∂…õ »∂÷Ö …õ«ü∆à…¶ ÷Ö»∂…¶…õ Ä:

> `' ü÷Ö’º…¢ <: '÷Ü…¶÷Ö Ä»∂` …® Ñ «ü’º…ñ ÷Ö’º ü è …® Ñ `' ü÷Ö’º…¢` …ñ…õ Ñ…®’º…õ÷Ü «ü  Ä…õ…¢…®÷Ö’º ÷Ö Ñ ∆à÷Ö…ñ…õ »∂…¶«ü»∂ **∆à÷Ö ç÷Ñ ü…õ»∂…õ ü è ∆à÷Ö’º»∂«ü…®’º÷Ü** `'÷Ü…¶÷Ö Ä»∂`.

`' ü÷Ö’º…¢`  ç«ü è …ñ…õ Ñ…®’º…õ «ü  Ä…õ…¢…®÷Ö’º  ü«ü Ä…¢…õ Ä »∂…¶«ü’º `'÷Ü…¶÷Ö Ä»∂`, …Æ ä»∂ »∂…¶«ü»∂ ÷Ü»∂…® ü ü  Ñ…®»∂÷Ü ÷Ö ä Ä …ñ…õ Ñ…®’º…®»∂…®÷Ö’º.

> «û÷Ü ’°…õ ’°…® ü ü ÷Ü…õ…õ »∂…¶ Ä÷Ö ä…¢…¶÷Ö ä»∂ »∂…¶…õ  Ä…õ÷Ü»∂ ÷Ö Ñ »∂…¶…®÷Ü ∆à…¶«ü÷Ñ»∂…õ Ä,
÷Ü ä…Æ»∂ è÷Ñ…®’º…¢ …®÷Ü «ü  ü÷Ö»∂  ç÷Ö Ä…õ ∆à÷Ö ç÷Ñ ü…®∆à«ü»∂…õ…ñ «ü’º…ñ ÷Ü ä…Æ»∂ ü…õ »∂…¶«ü’º »∂…¶…®÷Ü,
…Æ ä»∂ »∂…¶…®÷Ü ÷Ü…® ç÷Ñ ü…õ  Ä ä ü…õ …®÷Ü «ü  ã…õ Ä è …¢÷Ö÷Ö…ñ 99% …®’º»∂ ä…®»∂…®÷Ö’º.
«û’º…ñ  ä’º ü…õ÷Ü÷Ü  è÷Ö ä ’° Ä…®»∂…õ  ä’º÷Ü«ü Ñ…õ ∆à÷Ö…ñ…õ, »∂…¶…õ ∆à÷Ö ç÷Ñ…® ü…õ Ä ’°…® ü ü «ü ä»∂÷Ö ç«ü»∂…®∆à«ü ü ü è …¶«ü’º…ñ ü…õ «ü ü ü »∂…¶…õ ∆à÷Ö Ä’º…õ Ä ∆à«ü÷Ü…õ÷Ü  Ñ÷Ö Ä  è÷Ö ä.

> ∆Å ä»∂ »∂…¶…®÷Ü …®÷Ü »∂…¶…õ ∆¶ ä÷Ü»∂÷Ö’º÷Ö ç…®∆à÷Ö’º. ∆ú…õ' Ä…õ ’° Ä…®»∂…®’º…¢  ä’º÷Ü«ü Ñ…õ ∆à÷Ö…ñ…õ,
÷Ü÷Ö ’°…õ ’º…õ…õ…ñ »∂÷Ö  ä’º…ñ…õ Ä÷Ü»∂«ü’º…ñ …¶÷Ö’° »∂…¶…®÷Ü ÷Ü»∂ ä Ñ Ñ  Ä…õ«ü ü ü è ’°÷Ö Ä”Ñ÷Ü, «ü’º…ñ …¶÷Ö’° ’°…õ ∆à«ü’º  ç…õ÷Ü÷Ü …®»∂  ä÷Ñ.

∆ì÷Ö…®’º…¢ …Æ«ü∆à”Ñ »∂÷Ö ÷Ö ä Ä …õ”º«ü ç÷Ñ ü…õ «ü…Æ÷Ö ã…õ, ’°…õ ∆à«ü’º ÷Ü«ü è »∂…¶«ü»∂ `'÷Ü»∂«ü»∂…®∆à <: '’°÷Ö Ä ü…ñ`.
∆ë÷Ö Ä ’º÷Ö’°,  ü…õ»∂'÷Ü «ü ü÷Ü÷Ö «ü∆à∆à…õ÷Ñ»∂ »∂…¶…õ …®…ñ…õ«ü »∂…¶«ü»∂ ÷Ü ä…Æ»∂ è÷Ñ…õ÷Ü ÷Ö Ñ  ü…® Ñ…õ»∂…® ç…õ÷Ü ∆à«ü’º …Æ…õ ÷Ñ«ü÷Ü÷Ü…õ…ñ »∂…¶ Ä÷Ö ä…¢…¶  Ä…õ Ñ…õ Ä…õ’º∆à…õ÷Ü
( ç÷Ö Ä…õ ÷Ö’º »∂…¶…®÷Ü …®’º [∆≤«ü Ä…®«ü’º∆à…õ](#variance)),
_…õ.…¢._ `&'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä` …®÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `&'’°÷Ö Ä ü…ñ ÷Ü»∂ Ä`, »∂…¶…õ’º ’°…õ ∆à«ü’º "…ñ÷Ö’°’º…¢ Ä«ü…ñ…õ" `&'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä` …®’º»∂÷Ö «ü `&'’°÷Ö Ä ü…ñ ÷Ü»∂ Ä`.
∆ú…®»∂…¶ »∂…¶«ü»∂, »∂…¶…õ …õ”º«ü ç÷Ñ ü…õ «ü…Æ÷Ö ã…õ ’°…® ü ü ∆à÷Ö ç÷Ñ…® ü…õ:

```rust
fn debug<'a>(a: &'a str, b: &'a str) {
    println!("a = {a:?} b = {b:?}");
}

fn main() {
    let hello: &'static str = "hello";
    {
        let world = String::from("world");
        let world = &world; // 'world has a shorter lifetime than 'static
        debug(hello, world); // hello silently downgrades from `&'static str` into `&'world str`
    }
}
```

## ∆≤«ü Ä…®«ü’º∆à…õ

«û…Æ÷Ö ã…õ, ’°…õ …¢ ü÷Ö÷Ü÷Ü…õ…ñ ÷Ö ã…õ Ä »∂…¶…õ  Ñ«ü∆à»∂ »∂…¶«ü»∂ `'÷Ü»∂«ü»∂…®∆à <: '…Æ` …® ç÷Ñ ü…®…õ…ñ »∂…¶«ü»∂ `&'÷Ü»∂«ü»∂…®∆à ∆¨ <: &'…Æ ∆¨`. ∆¨…¶…®÷Ü  ä÷Ü…õ÷Ü «ü ÷Ñ Ä÷Ö÷Ñ…õ Ä»∂ è ”Ñ’º÷Ö’°’º «ü÷Ü _ ã«ü Ä…®«ü’º∆à…õ_.
∆ó»∂'÷Ü ’º÷Ö»∂ «ü ü’°«ü è÷Ü «ü÷Ü ÷Ü…® ç÷Ñ ü…õ «ü÷Ü »∂…¶…®÷Ü …õ”º«ü ç÷Ñ ü…õ, »∂…¶÷Ö ä…¢…¶. ∆¨÷Ö  ä’º…ñ…õ Ä÷Ü»∂«ü’º…ñ »∂…¶«ü»∂,  ü…õ»∂'÷Ü »∂ Ä è »∂÷Ö …õ”º»∂…õ’º…ñ »∂…¶…®÷Ü …õ”º«ü ç÷Ñ ü…õ «ü …Æ…®»∂:

```rust,compile_fail,E0597
fn assign<T>(input: &mut T, val: T) {
    *input = val;
}

fn main() {
    let mut hello: &'static str = "hello";
    {
        let world = String::from("world");
        assign(&mut hello, &world);
    }
    println!("{hello}"); // use after free üòø
}
```

∆ó’º `«ü÷Ü÷Ü…®…¢’º`, ’°…õ «ü Ä…õ ÷Ü…õ»∂»∂…®’º…¢ »∂…¶…õ `…¶…õ ü ü÷Ö`  Ä…õ Ñ…õ Ä…õ’º∆à…õ »∂÷Ö ÷Ñ÷Ö…®’º»∂ »∂÷Ö `’°÷Ö Ä ü…ñ`.
∆Å ä»∂ »∂…¶…õ’º `’°÷Ö Ä ü…ñ` …¢÷Ö…õ÷Ü ÷Ö ä»∂ ÷Ö Ñ ÷Ü∆à÷Ö÷Ñ…õ, …Æ…õ Ñ÷Ö Ä…õ »∂…¶…õ  ü«ü»∂…õ Ä  ä÷Ü…õ ÷Ö Ñ `…¶…õ ü ü÷Ö` …®’º »∂…¶…õ ÷Ñ Ä…®’º»∂ ü’º!

∆¨…¶…®÷Ü …®÷Ü «ü ∆à ü«ü÷Ü÷Ü…®∆à  ä÷Ü…õ-«ü Ñ»∂…õ Ä- Ñ Ä…õ…õ …Æ ä…¢!

√ò ä Ä  Ñ…® Ä÷Ü»∂ …®’º÷Ü»∂…®’º∆à»∂  ç…®…¢…¶»∂ …Æ…õ »∂÷Ö …Æ ü«ü ç…õ »∂…¶…õ `«ü÷Ü÷Ü…®…¢’º` …® ç÷Ñ ü, …Æ ä»∂ »∂…¶…õ Ä…õ'÷Ü  Ä…õ«ü ü ü è ’º÷Ö»∂…¶…®’º…¢ ’° Ä÷Ö’º…¢ …¶…õ Ä…õ.
∆ó»∂ ÷Ü…¶÷Ö ä ü…ñ’º'»∂ …Æ…õ ÷Ü ä Ä÷Ñ Ä…®÷Ü…®’º…¢ »∂…¶«ü»∂ ’°…õ  ç…®…¢…¶»∂ ’°«ü’º»∂ »∂÷Ö «ü÷Ü÷Ü…®…¢’º «ü `∆¨` …®’º»∂÷Ö «ü `∆¨`.

∆¨…¶…õ ÷Ñ Ä÷Ö…Æ ü…õ ç …®÷Ü »∂…¶«ü»∂ ’°…õ ∆à«ü’º’º÷Ö»∂ «ü÷Ü÷Ü ä ç…õ »∂…¶«ü»∂ `& ç ä»∂ &'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä` «ü’º…ñ `& ç ä»∂ &'…Æ ÷Ü»∂ Ä` «ü Ä…õ ∆à÷Ö ç÷Ñ«ü»∂…®…Æ ü…õ.
∆¨…¶…®÷Ü  ç…õ«ü’º÷Ü »∂…¶«ü»∂ `& ç ä»∂ &'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä` **∆à«ü’º’º÷Ö»∂** …Æ…õ «ü *÷Ü ä…Æ»∂ è÷Ñ…õ* ÷Ö Ñ `& ç ä»∂ &'…Æ ÷Ü»∂ Ä`,
…õ ã…õ’º …® Ñ `'÷Ü»∂«ü»∂…®∆à` …®÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `'…Æ`.

∆≤«ü Ä…®«ü’º∆à…õ …®÷Ü »∂…¶…õ ∆à÷Ö’º∆à…õ÷Ñ»∂ »∂…¶«ü»∂ ∆¶ ä÷Ü»∂ …Æ÷Ö Ä Ä÷Ö’°÷Ü »∂÷Ö …ñ…õ Ñ…®’º…õ  Ä…õ ü«ü»∂…®÷Ö’º÷Ü…¶…®÷Ñ÷Ü «ü…Æ÷Ö ä»∂ ÷Ü ä…Æ»∂ è÷Ñ…õ÷Ü »∂…¶ Ä÷Ö ä…¢…¶ »∂…¶…õ…® Ä …¢…õ’º…õ Ä…®∆à ÷Ñ«ü Ä«ü ç…õ»∂…õ Ä÷Ü.

> ’å√ò∆¨∆ê: ∆ë÷Ö Ä ∆à÷Ö’º ã…õ’º…®…õ’º∆à…õ ’°…õ ’°…® ü ü …ñ…õ Ñ…®’º…õ «ü …¢…õ’º…õ Ä…®∆à »∂ è÷Ñ…õ `∆ë<∆¨>` ÷Ü÷Ö
> »∂…¶«ü»∂ ’°…õ ∆à«ü’º …õ«ü÷Ü…® ü è »∂«ü ü”Ñ «ü…Æ÷Ö ä»∂ `∆¨`. ”á÷Ö÷Ñ…õ Ñ ä ü ü è »∂…¶…®÷Ü …®÷Ü ∆à ü…õ«ü Ä …®’º ∆à÷Ö’º»∂…õ”º»∂.

∆¨…¶…õ »∂ è÷Ñ…õ `∆ë`'÷Ü * ã«ü Ä…®«ü’º∆à…õ* …®÷Ü …¶÷Ö’° »∂…¶…õ ÷Ü ä…Æ»∂ è÷Ñ…®’º…¢ ÷Ö Ñ …®»∂÷Ü …®’º÷Ñ ä»∂÷Ü «ü Ñ Ñ…õ∆à»∂÷Ü »∂…¶…õ
÷Ü ä…Æ»∂ è÷Ñ…®’º…¢ ÷Ö Ñ …®»∂÷Ü ÷Ö ä»∂÷Ñ ä»∂÷Ü. ∆¨…¶…õ Ä…õ «ü Ä…õ »∂…¶ Ä…õ…õ ”Ñ…®’º…ñ÷Ü ÷Ö Ñ  ã«ü Ä…®«ü’º∆à…õ …®’º ∆¶ ä÷Ü»∂. ∆ì…® ã…õ’º »∂’°÷Ö
»∂ è÷Ñ…õ÷Ü `’ñ ä…Æ` «ü’º…ñ `’ñ ä÷Ñ…õ Ä`, ’°…¶…õ Ä…õ `’ñ ä…Æ` …®÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `’ñ ä÷Ñ…õ Ä`:

* `∆ë` …®÷Ü **∆à÷Ö ã«ü Ä…®«ü’º»∂** …® Ñ `∆ë<’ñ ä…Æ>` …®÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `∆ë<’ñ ä÷Ñ…õ Ä>` (»∂…¶…õ ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ñ Ä÷Ö÷Ñ…õ Ä»∂ è …®÷Ü ÷Ñ«ü÷Ü÷Ü…õ…ñ »∂…¶ Ä÷Ö ä…¢…¶)
* `∆ë` …®÷Ü **∆à÷Ö’º»∂ Ä«ü ã«ü Ä…®«ü’º»∂** …® Ñ `∆ë<’ñ ä÷Ñ…õ Ä>` …®÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `∆ë<’ñ ä…Æ>` (»∂…¶…õ ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ñ Ä÷Ö÷Ñ…õ Ä»∂ è …®÷Ü "…®’º ã…õ Ä»∂…õ…ñ")
* `∆ë` …®÷Ü **…®’º ã«ü Ä…®«ü’º»∂** ÷Ö»∂…¶…õ Ä’°…®÷Ü…õ (’º÷Ö ÷Ü ä…Æ»∂ è÷Ñ…®’º…¢  Ä…õ ü«ü»∂…®÷Ö’º÷Ü…¶…®÷Ñ …õ”º…®÷Ü»∂÷Ü)

∆ó Ñ ’°…õ  Ä…õ ç…õ ç…Æ…õ Ä  Ñ Ä÷Ö ç »∂…¶…õ «ü…Æ÷Ö ã…õ …õ”º«ü ç÷Ñ ü…õ÷Ü,
…®»∂ ’°«ü÷Ü ÷Ö”Ñ  Ñ÷Ö Ä  ä÷Ü »∂÷Ö »∂ Ä…õ«ü»∂ `&'«ü ∆¨` «ü÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `&'…Æ ∆¨` …® Ñ `'«ü <: '…Æ`,
»∂…¶…õ Ä…õ Ñ÷Ö Ä…õ ’°…õ ∆à«ü’º ÷Ü«ü è »∂…¶«ü»∂ `&'«ü ∆¨` …®÷Ü *∆à÷Ö ã«ü Ä…®«ü’º»∂* ÷Ö ã…õ Ä `'«ü`.

«û ü÷Ü÷Ö, ’°…õ ÷Ü«ü’° »∂…¶«ü»∂ …®»∂ ’°«ü÷Ü ’º÷Ö»∂ ÷Ö”Ñ  Ñ÷Ö Ä  ä÷Ü »∂÷Ö »∂ Ä…õ«ü»∂ `& ç ä»∂ &'«ü ∆¨` «ü÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `& ç ä»∂ &'…Æ ∆¨`,
»∂…¶…õ Ä…õ Ñ÷Ö Ä…õ ’°…õ ∆à«ü’º ÷Ü«ü è »∂…¶«ü»∂ `& ç ä»∂ ∆¨` …®÷Ü *…®’º ã«ü Ä…®«ü’º»∂* ÷Ö ã…õ Ä `∆¨`

”á…õ Ä…õ …®÷Ü «ü »∂«ü…Æ ü…õ ÷Ö Ñ ÷Ü÷Ö ç…õ ÷Ö»∂…¶…õ Ä …¢…õ’º…õ Ä…®∆à »∂ è÷Ñ…õ÷Ü «ü’º…ñ »∂…¶…õ…® Ä  ã«ü Ä…®«ü’º∆à…õ÷Ü:

|                 |     '«ü    |         ∆¨         |     ∆±     |
|-----------------|:---------:|:-----------------:|:---------:|
| `&'«ü ∆¨ `        | ∆à÷Ö ã«ü Ä…®«ü’º»∂ | ∆à÷Ö ã«ü Ä…®«ü’º»∂         |           |
| `&'«ü  ç ä»∂ ∆¨`     | ∆à÷Ö ã«ü Ä…®«ü’º»∂ | …®’º ã«ü Ä…®«ü’º»∂         |           |
| `∆Å÷Ö”º<∆¨>`        |           | ∆à÷Ö ã«ü Ä…®«ü’º»∂         |           |
| `∆≤…õ∆à<∆¨>`        |           | ∆à÷Ö ã«ü Ä…®«ü’º»∂         |           |
| `∆±’º÷Ü«ü Ñ…õ∆á…õ ü ü<∆¨>` |           | …®’º ã«ü Ä…®«ü’º»∂         |           |
| `∆á…õ ü ü<∆¨>`       |           | …®’º ã«ü Ä…®«ü’º»∂         |           |
| ` Ñ’º(∆¨) -> ∆±`    |           | **∆à÷Ö’º»∂ Ä«ü** ã«ü Ä…®«ü’º»∂ | ∆à÷Ö ã«ü Ä…®«ü’º»∂ |
| `*∆à÷Ö’º÷Ü»∂ ∆¨`      |           | ∆à÷Ö ã«ü Ä…®«ü’º»∂         |           |
| `* ç ä»∂ ∆¨`        |           | …®’º ã«ü Ä…®«ü’º»∂         |           |

’ñ÷Ö ç…õ ÷Ö Ñ »∂…¶…õ÷Ü…õ ∆à«ü’º …Æ…õ …õ”º÷Ñ ü«ü…®’º…õ…ñ ÷Ü…® ç÷Ñ ü è …®’º  Ä…õ ü«ü»∂…®÷Ö’º »∂÷Ö »∂…¶…õ ÷Ö»∂…¶…õ Ä÷Ü:

* `∆≤…õ∆à<∆¨>` «ü’º…ñ «ü ü ü ÷Ö»∂…¶…õ Ä ÷Ö’°’º…®’º…¢ ÷Ñ÷Ö…®’º»∂…õ Ä÷Ü «ü’º…ñ ∆à÷Ö ü ü…õ∆à»∂…®÷Ö’º÷Ü  Ñ÷Ö ü ü÷Ö’° »∂…¶…õ ÷Ü«ü ç…õ  ü÷Ö…¢…®∆à «ü÷Ü `∆Å÷Ö”º<∆¨>`
* `∆á…õ ü ü<∆¨>` «ü’º…ñ «ü ü ü ÷Ö»∂…¶…õ Ä …®’º»∂…õ Ä…®÷Ö Ä  ç ä»∂«ü…Æ…® ü…®»∂ è »∂ è÷Ñ…õ÷Ü  Ñ÷Ö ü ü÷Ö’° »∂…¶…õ ÷Ü«ü ç…õ  ü÷Ö…¢…®∆à «ü÷Ü `∆±’º÷Ü«ü Ñ…õ∆á…õ ü ü<∆¨>`
* `∆±’º÷Ü«ü Ñ…õ∆á…õ ü ü<∆¨>` …¶«ü ã…®’º…¢ …®’º»∂…õ Ä…®÷Ö Ä  ç ä»∂«ü…Æ…® ü…®»∂ è …¢…® ã…õ÷Ü …®»∂ »∂…¶…õ ÷Ü«ü ç…õ  ã«ü Ä…®«ü’º∆à…õ ÷Ñ Ä÷Ö÷Ñ…õ Ä»∂…®…õ÷Ü «ü÷Ü `& ç ä»∂ ∆¨`
* `*∆à÷Ö’º÷Ü»∂ ∆¨`  Ñ÷Ö ü ü÷Ö’°÷Ü »∂…¶…õ  ü÷Ö…¢…®∆à ÷Ö Ñ `&∆¨`
* `* ç ä»∂ ∆¨`  Ñ÷Ö ü ü÷Ö’°÷Ü »∂…¶…õ  ü÷Ö…¢…®∆à ÷Ö Ñ `& ç ä»∂ ∆¨` (÷Ö Ä `∆±’º÷Ü«ü Ñ…õ∆á…õ ü ü<∆¨>`)

∆ë÷Ö Ä  ç÷Ö Ä…õ »∂ è÷Ñ…õ÷Ü, ÷Ü…õ…õ »∂…¶…õ ["∆≤«ü Ä…®«ü’º∆à…õ" ÷Ü…õ∆à»∂…®÷Ö’º][ ã«ü Ä…®«ü’º∆à…õ-»∂«ü…Æ ü…õ] ÷Ö’º »∂…¶…õ  Ä…õ Ñ…õ Ä…õ’º∆à…õ.

[ ã«ü Ä…®«ü’º∆à…õ-»∂«ü…Æ ü…õ]: https://doc.rust-lang.org/reference/subtyping.html#variance

> ’å√ò∆¨∆ê: »∂…¶…õ *÷Ö’º ü è* ÷Ü÷Ö ä Ä∆à…õ ÷Ö Ñ ∆à÷Ö’º»∂ Ä«ü ã«ü Ä…®«ü’º∆à…õ …®’º »∂…¶…õ  ü«ü’º…¢ ä«ü…¢…õ …®÷Ü »∂…¶…õ «ü Ä…¢ ä ç…õ’º»∂÷Ü »∂÷Ö
> «ü  Ñ ä’º∆à»∂…®÷Ö’º, ’°…¶…®∆à…¶ …®÷Ü ’°…¶ è …®»∂  Ä…õ«ü ü ü è …ñ÷Ö…õ÷Ü’º'»∂ ∆à÷Ö ç…õ  ä÷Ñ  ç ä∆à…¶ …®’º ÷Ñ Ä«ü∆à»∂…®∆à…õ. ∆ó’º ã÷Ö”Ñ…®’º…¢
> ∆à÷Ö’º»∂ Ä«ü ã«ü Ä…®«ü’º∆à…õ …®’º ã÷Ö ü ã…õ÷Ü …¶…®…¢…¶…õ Ä-÷Ö Ä…ñ…õ Ä ÷Ñ Ä÷Ö…¢ Ä«ü ç ç…®’º…¢ ’°…®»∂…¶  Ñ ä’º∆à»∂…®÷Ö’º ÷Ñ÷Ö…®’º»∂…õ Ä÷Ü »∂…¶«ü»∂
> »∂«ü”Ñ…õ  Ä…õ Ñ…õ Ä…õ’º∆à…õ÷Ü ’°…®»∂…¶ ÷Ü÷Ñ…õ∆à…® Ñ…®∆à  ü…® Ñ…õ»∂…® ç…õ÷Ü («ü÷Ü ÷Ö÷Ñ÷Ñ÷Ö÷Ü…õ…ñ »∂÷Ö »∂…¶…õ  ä÷Ü ä«ü ü "«ü’º è  ü…® Ñ…õ»∂…® ç…õ",
> ’°…¶…®∆à…¶ …¢…õ»∂÷Ü …®’º»∂÷Ö …¶…®…¢…¶…õ Ä  Ä«ü’º”Ñ  ü…® Ñ…õ»∂…® ç…õ÷Ü, ’°…¶…®∆à…¶ ’°÷Ö Ä”Ñ …®’º…ñ…õ÷Ñ…õ’º…ñ…õ’º»∂ ü è ÷Ö Ñ ÷Ü ä…Æ»∂ è÷Ñ…®’º…¢).

’å÷Ö’° »∂…¶«ü»∂ ’°…õ …¶«ü ã…õ ÷Ü÷Ö ç…õ  ç÷Ö Ä…õ  Ñ÷Ö Ä ç«ü ü  ä’º…ñ…õ Ä÷Ü»∂«ü’º…ñ…®’º…¢ ÷Ö Ñ  ã«ü Ä…®«ü’º∆à…õ,
 ü…õ»∂'÷Ü …¢÷Ö »∂…¶ Ä÷Ö ä…¢…¶ ÷Ü÷Ö ç…õ  ç÷Ö Ä…õ …õ”º«ü ç÷Ñ ü…õ÷Ü …®’º  ç÷Ö Ä…õ …ñ…õ»∂«ü…® ü.

```rust,compile_fail,E0597
fn assign<T>(input: &mut T, val: T) {
    *input = val;
}

fn main() {
    let mut hello: &'static str = "hello";
    {
        let world = String::from("world");
        assign(&mut hello, &world);
    }
    println!("{hello}");
}
```

«û’º…ñ ’°…¶«ü»∂ …ñ÷Ö ’°…õ …¢…õ»∂ ’°…¶…õ’º ’°…õ  Ä ä’º »∂…¶…®÷Ü?

```text
error[E0597]: `world` does not live long enough
  --> src/main.rs:9:28
   |
6  |     let mut hello: &'static str = "hello";
   |                    ------------ type annotation requires that `world` is borrowed for `'static`
...
9  |         assign(&mut hello, &world);
   |                            ^^^^^^ borrowed value does not live long enough
10 |     }
   |     - `world` dropped here while still borrowed
```

∆ì÷Ö÷Ö…ñ, …®»∂ …ñ÷Ö…õ÷Ü’º'»∂ ∆à÷Ö ç÷Ñ…® ü…õ! ≈Å…õ»∂'÷Ü …Æ Ä…õ«ü”Ñ …ñ÷Ö’°’º ’°…¶«ü»∂'÷Ü …¶«ü÷Ñ÷Ñ…õ’º…®’º…¢ …¶…õ Ä…õ …®’º …ñ…õ»∂«ü…® ü.

∆ë…® Ä÷Ü»∂  ü…õ»∂'÷Ü  ü÷Ö÷Ö”Ñ «ü»∂ »∂…¶…õ `«ü÷Ü÷Ü…®…¢’º`  Ñ ä’º∆à»∂…®÷Ö’º:

```rust
fn assign<T>(input: &mut T, val: T) {
    *input = val;
}
```

«û ü ü …®»∂ …ñ÷Ö…õ÷Ü …®÷Ü »∂«ü”Ñ…õ «ü  ç ä»∂«ü…Æ ü…õ  Ä…õ Ñ…õ Ä…õ’º∆à…õ «ü’º…ñ «ü  ã«ü ü ä…õ «ü’º…ñ ÷Ö ã…õ Ä’° Ä…®»∂…õ »∂…¶…õ  Ä…õ Ñ…õ Ä…õ’º»∂ ’°…®»∂…¶ …®»∂.
∆ú…¶«ü»∂'÷Ü …® ç÷Ñ÷Ö Ä»∂«ü’º»∂ «ü…Æ÷Ö ä»∂ »∂…¶…®÷Ü  Ñ ä’º∆à»∂…®÷Ö’º …®÷Ü »∂…¶«ü»∂ …®»∂ ∆à Ä…õ«ü»∂…õ÷Ü «ü »∂ è÷Ñ…õ …õ’¶ ä«ü ü…®»∂ è ∆à÷Ö’º÷Ü»∂ Ä«ü…®’º»∂. ∆ó»∂
∆à ü…õ«ü Ä ü è ÷Ü«ü è÷Ü …®’º …®»∂÷Ü ÷Ü…®…¢’º«ü»∂ ä Ä…õ »∂…¶…õ  Ä…õ Ñ…õ Ä…õ’º»∂ «ü’º…ñ »∂…¶…õ  ã«ü ü ä…õ  ç ä÷Ü»∂ …Æ…õ »∂…¶…õ *…õ”º«ü∆à»∂ ÷Ü«ü ç…õ* »∂ è÷Ñ…õ.

‚±Æ…õ«ü’º’°…¶…® ü…õ, …®’º »∂…¶…õ ∆à«ü ü ü…õ Ä ’°…õ ÷Ñ«ü÷Ü÷Ü …®’º `& ç ä»∂ &'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä` «ü’º…ñ `&'’°÷Ö Ä ü…ñ ÷Ü»∂ Ä`.

∆Å…õ∆à«ü ä÷Ü…õ `& ç ä»∂ ∆¨` …®÷Ü …®’º ã«ü Ä…®«ü’º»∂ ÷Ö ã…õ Ä `∆¨`, »∂…¶…õ ∆à÷Ö ç÷Ñ…® ü…õ Ä ∆à÷Ö’º∆à ü ä…ñ…õ÷Ü …®»∂ ∆à«ü’º'»∂ «ü÷Ñ÷Ñ ü è «ü’º è ÷Ü ä…Æ»∂ è÷Ñ…®’º…¢
»∂÷Ö »∂…¶…õ  Ñ…® Ä÷Ü»∂ «ü Ä…¢ ä ç…õ’º»∂, «ü’º…ñ ÷Ü÷Ö `∆¨`  ç ä÷Ü»∂ …Æ…õ …õ”º«ü∆à»∂ ü è `&'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä`.

∆¨…¶…®÷Ü …®÷Ü ∆à÷Ö ä’º»∂…õ Ä »∂÷Ö »∂…¶…õ `&∆¨` ∆à«ü÷Ü…õ:

```rust
fn debug<T: std::fmt::Debug>(a: T, b: T) {
    println!("a = {a:?} b = {b:?}");
}
```

’°…¶…õ Ä…õ ÷Ü…® ç…® ü«ü Ä ü è `«ü` «ü’º…ñ `…Æ`  ç ä÷Ü»∂ …¶«ü ã…õ »∂…¶…õ ÷Ü«ü ç…õ »∂ è÷Ñ…õ `∆¨`.
∆Å ä»∂ ÷Ü…®’º∆à…õ `&'«ü ∆¨` *…®÷Ü* ∆à÷Ö ã«ü Ä…®«ü’º»∂ ÷Ö ã…õ Ä `'«ü`, ’°…õ «ü Ä…õ «ü ü ü÷Ö’°…õ…ñ »∂÷Ö ÷Ñ…õ Ä Ñ÷Ö Ä ç ÷Ü ä…Æ»∂ è÷Ñ…®’º…¢.
’ñ÷Ö »∂…¶…õ ∆à÷Ö ç÷Ñ…® ü…õ Ä …ñ…õ∆à…®…ñ…õ÷Ü »∂…¶«ü»∂ `&'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä` ∆à«ü’º …Æ…õ∆à÷Ö ç…õ `&'…Æ ÷Ü»∂ Ä` …® Ñ «ü’º…ñ ÷Ö’º ü è …® Ñ
`&'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä` …®÷Ü «ü ÷Ü ä…Æ»∂ è÷Ñ…õ ÷Ö Ñ `&'…Æ ÷Ü»∂ Ä`, ’°…¶…®∆à…¶ ’°…® ü ü …¶÷Ö ü…ñ …® Ñ `'÷Ü»∂«ü»∂…®∆à <: '…Æ`.
∆¨…¶…®÷Ü …®÷Ü »∂ Ä ä…õ, ÷Ü÷Ö »∂…¶…õ ∆à÷Ö ç÷Ñ…® ü…õ Ä …®÷Ü …¶«ü÷Ñ÷Ñ è »∂÷Ö ∆à÷Ö’º»∂…®’º ä…õ ∆à÷Ö ç÷Ñ…® ü…®’º…¢ »∂…¶…®÷Ü ∆à÷Ö…ñ…õ.

«û÷Ü …®»∂ »∂ ä Ä’º÷Ü ÷Ö ä»∂, »∂…¶…õ «ü Ä…¢ ä ç…õ’º»∂  Ñ÷Ö Ä ’°…¶ è …®»∂'÷Ü ÷Ö”Ñ  Ñ÷Ö Ä ∆Å÷Ö”º («ü’º…ñ ∆≤…õ∆à, ”á«ü÷Ü…¶‚±Æ«ü÷Ñ, …õ»∂∆à.) »∂÷Ö …Æ…õ ∆à÷Ö ã«ü Ä…®«ü’º»∂ …®÷Ü ÷Ñ Ä…õ»∂»∂ è ÷Ü…® ç…® ü«ü Ä »∂÷Ö »∂…¶…õ «ü Ä…¢ ä ç…õ’º»∂  Ñ÷Ö Ä ’°…¶ è …®»∂'÷Ü ÷Ö”Ñ  Ñ÷Ö Ä  ü…® Ñ…õ»∂…® ç…õ÷Ü »∂÷Ö …Æ…õ ∆à÷Ö ã«ü Ä…®«ü’º»∂: «ü÷Ü ÷Ü÷Ö÷Ö’º «ü÷Ü  è÷Ö ä »∂ Ä è »∂÷Ö ÷Ü»∂ ä Ñ Ñ »∂…¶…õ ç …®’º ÷Ü÷Ö ç…õ»∂…¶…®’º…¢  ü…®”Ñ…õ «ü  ç ä»∂«ü…Æ ü…õ  Ä…õ Ñ…õ Ä…õ’º∆à…õ, »∂…¶…õ è …®’º…¶…õ Ä…®»∂ …®’º ã«ü Ä…®«ü’º∆à…õ «ü’º…ñ  è÷Ö ä' Ä…õ ÷Ñ Ä…õ ã…õ’º»∂…õ…ñ  Ñ Ä÷Ö ç …ñ÷Ö…®’º…¢ «ü’º è»∂…¶…®’º…¢ …Æ«ü…ñ.

”á÷Ö’°…õ ã…õ Ä ∆Å÷Ö”º  ç«ü”Ñ…õ÷Ü …®»∂ …õ«ü÷Ü…®…õ Ä »∂÷Ö  Ñ÷Ö∆à ä÷Ü ÷Ö’º »∂…¶…õ …Æ è- ã«ü ü ä…õ «ü÷Ü÷Ñ…õ∆à»∂ ÷Ö Ñ  Ä…õ Ñ…õ Ä…õ’º∆à…õ÷Ü »∂…¶«ü»∂ ’°…õ ÷Ñ«ü Ä»∂…®«ü ü ü è …¢ ü÷Ö÷Ü÷Ü…õ…ñ ÷Ö ã…õ Ä.

∆±’º ü…®”Ñ…õ «ü  ü÷Ö»∂ ÷Ö Ñ  ü«ü’º…¢ ä«ü…¢…õ÷Ü ’°…¶…®∆à…¶ «ü ü ü÷Ö’°  ã«ü ü ä…õ÷Ü »∂÷Ö …Æ…õ  Ñ Ä…õ…õ ü è «ü ü…®«ü÷Ü…õ…ñ «ü»∂ «ü ü ü »∂…® ç…õ÷Ü, ∆¶ ä÷Ü»∂ …¶«ü÷Ü «ü  ã…õ Ä è ÷Ü»∂ Ä…®∆à»∂  Ä ä ü…õ: …® Ñ  è÷Ö ä' Ä…õ «ü ü ü÷Ö’°…õ…ñ »∂÷Ö  ç ä»∂«ü»∂…õ ÷Ö Ä  ç÷Ö ã…õ «ü  ã«ü ü ä…õ,  è÷Ö ä «ü Ä…õ …¢ ä«ü Ä«ü’º»∂…õ…õ…ñ »∂÷Ö …Æ…õ »∂…¶…õ ÷Ö’º ü è ÷Ö’º…õ ’°…®»∂…¶ «ü∆à∆à…õ÷Ü÷Ü »∂÷Ö …®»∂.

∆á÷Ö’º÷Ü…®…ñ…õ Ä »∂…¶…õ  Ñ÷Ö ü ü÷Ö’°…®’º…¢ ∆à÷Ö…ñ…õ:

```rust,ignore
let hello: Box<&'static str> = Box::new("hello");

let mut world: Box<&'b str>;
world = hello;
```

∆¨…¶…õ Ä…õ …®÷Ü ’º÷Ö ÷Ñ Ä÷Ö…Æ ü…õ ç «ü»∂ «ü ü ü ’°…®»∂…¶ »∂…¶…õ  Ñ«ü∆à»∂ »∂…¶«ü»∂ ’°…õ …¶«ü ã…õ  Ñ÷Ö Ä…¢÷Ö»∂»∂…õ’º »∂…¶«ü»∂ `…¶…õ ü ü÷Ö` ’°«ü÷Ü «ü ü…® ã…õ  Ñ÷Ö Ä `'÷Ü»∂«ü»∂…®∆à`,
…Æ…õ∆à«ü ä÷Ü…õ «ü÷Ü ÷Ü÷Ö÷Ö’º «ü÷Ü ’°…õ  ç÷Ö ã…õ…ñ `…¶…õ ü ü÷Ö` »∂÷Ö «ü  ã«ü Ä…®«ü…Æ ü…õ »∂…¶«ü»∂ ÷Ö’º ü è ”Ñ’º…õ’° …®»∂ ’°«ü÷Ü «ü ü…® ã…õ  Ñ÷Ö Ä `'…Æ`,
**’°…õ …ñ…õ÷Ü»∂ Ä÷Ö è…õ…ñ »∂…¶…õ ÷Ö’º ü è »∂…¶…®’º…¢ …®’º »∂…¶…õ  ä’º…® ã…õ Ä÷Ü…õ »∂…¶«ü»∂  Ä…õ ç…õ ç…Æ…õ Ä…õ…ñ …®»∂  ü…® ã…õ…ñ  Ñ÷Ö Ä  ü÷Ö’º…¢…õ Ä**!

√ò’º ü è ÷Ö’º…õ »∂…¶…®’º…¢  ü…õ Ñ»∂ »∂÷Ö …õ”º÷Ñ ü«ü…®’º:  Ñ ä’º∆à»∂…®÷Ö’º ÷Ñ÷Ö…®’º»∂…õ Ä÷Ü.

∆¨÷Ö ÷Ü…õ…õ ’°…¶ è ` Ñ’º(∆¨) -> ∆±` ÷Ü…¶÷Ö ä ü…ñ …Æ…õ ∆à÷Ö ã«ü Ä…®«ü’º»∂ ÷Ö ã…õ Ä `∆±`, ∆à÷Ö’º÷Ü…®…ñ…õ Ä »∂…¶…õ  Ñ÷Ö ü ü÷Ö’°…®’º…¢ ÷Ü…®…¢’º«ü»∂ ä Ä…õ:

<!-- ignore: simplified code -->
```rust,ignore
fn get_str() -> &'a str;
```

∆¨…¶…®÷Ü  Ñ ä’º∆à»∂…®÷Ö’º ∆à ü«ü…® ç÷Ü »∂÷Ö ÷Ñ Ä÷Ö…ñ ä∆à…õ «ü `÷Ü»∂ Ä` …Æ÷Ö ä’º…ñ …Æ è ÷Ü÷Ö ç…õ  ü…® Ñ…õ»∂…® ç…õ `'«ü`. «û÷Ü ÷Ü ä∆à…¶, …®»∂ …®÷Ü ÷Ñ…õ Ä Ñ…õ∆à»∂ ü è  ã«ü ü…®…ñ »∂÷Ö
÷Ñ Ä÷Ö ã…®…ñ…õ «ü  Ñ ä’º∆à»∂…®÷Ö’º ’°…®»∂…¶ »∂…¶…õ  Ñ÷Ö ü ü÷Ö’°…®’º…¢ ÷Ü…®…¢’º«ü»∂ ä Ä…õ …®’º÷Ü»∂…õ«ü…ñ:

<!-- ignore: simplified code -->
```rust,ignore
fn get_static() -> &'static str;
```

’ñ÷Ö ’°…¶…õ’º »∂…¶…õ  Ñ ä’º∆à»∂…®÷Ö’º …®÷Ü ∆à«ü ü ü…õ…ñ, «ü ü ü …®»∂'÷Ü …õ”º÷Ñ…õ∆à»∂…®’º…¢ …®÷Ü «ü `&÷Ü»∂ Ä` ’°…¶…®∆à…¶  ü…® ã…õ÷Ü «ü»∂  ü…õ«ü÷Ü»∂ »∂…¶…õ  ü…® Ñ…õ»∂…® ç…õ ÷Ö Ñ `'«ü`,
…®»∂ …ñ÷Ö…õ÷Ü’º'»∂  ç«ü»∂»∂…õ Ä …® Ñ »∂…¶…õ  ã«ü ü ä…õ «ü∆à»∂ ä«ü ü ü è  ü…® ã…õ÷Ü  ü÷Ö’º…¢…õ Ä.

”á÷Ö’°…õ ã…õ Ä, »∂…¶…õ ÷Ü«ü ç…õ  ü÷Ö…¢…®∆à …ñ÷Ö…õ÷Ü ’º÷Ö»∂ «ü÷Ñ÷Ñ ü è »∂÷Ö *«ü Ä…¢ ä ç…õ’º»∂÷Ü*. ∆á÷Ö’º÷Ü…®…ñ…õ Ä »∂ Ä è…®’º…¢ »∂÷Ö ÷Ü«ü»∂…®÷Ü Ñ è:

<!-- ignore: simplified code -->
```rust,ignore
fn store_ref(&'a str);
```

’°…®»∂…¶:

<!-- ignore: simplified code -->
```rust,ignore
fn store_static(&'static str);
```

∆¨…¶…õ  Ñ…® Ä÷Ü»∂  Ñ ä’º∆à»∂…®÷Ö’º ∆à«ü’º «ü∆à∆à…õ÷Ñ»∂ «ü’º è ÷Ü»∂ Ä…®’º…¢  Ä…õ Ñ…õ Ä…õ’º∆à…õ «ü÷Ü  ü÷Ö’º…¢ «ü÷Ü …®»∂  ü…® ã…õ÷Ü «ü»∂  ü…õ«ü÷Ü»∂  Ñ÷Ö Ä `'«ü`,
…Æ ä»∂ »∂…¶…õ ÷Ü…õ∆à÷Ö’º…ñ ∆à«ü’º’º÷Ö»∂ «ü∆à∆à…õ÷Ñ»∂ «ü ÷Ü»∂ Ä…®’º…¢  Ä…õ Ñ…õ Ä…õ’º∆à…õ »∂…¶«ü»∂  ü…® ã…õ÷Ü  Ñ÷Ö Ä «ü’º è …ñ ä Ä«ü»∂…®÷Ö’º  ü…õ÷Ü÷Ü »∂…¶«ü’º `'÷Ü»∂«ü»∂…®∆à`,
’°…¶…®∆à…¶ ’°÷Ö ä ü…ñ ∆à«ü ä÷Ü…õ «ü ∆à÷Ö’º Ñ ü…®∆à»∂.
∆á÷Ö ã«ü Ä…®«ü’º∆à…õ …ñ÷Ö…õ÷Ü’º'»∂ ’°÷Ö Ä”Ñ …¶…õ Ä…õ. ∆Å ä»∂ …® Ñ ’°…õ  Ñ ü…®÷Ñ …®»∂ «ü Ä÷Ö ä’º…ñ, …®»∂ «ü∆à»∂ ä«ü ü ü è *…ñ÷Ö…õ÷Ü*
’°÷Ö Ä”Ñ! ∆ó Ñ ’°…õ ’º…õ…õ…ñ «ü  Ñ ä’º∆à»∂…®÷Ö’º »∂…¶«ü»∂ ∆à«ü’º …¶«ü’º…ñ ü…õ `&'÷Ü»∂«ü»∂…®∆à ÷Ü»∂ Ä`, «ü  Ñ ä’º∆à»∂…®÷Ö’º »∂…¶«ü»∂ ∆à«ü’º …¶«ü’º…ñ ü…õ *«ü’º è*  Ä…õ Ñ…õ Ä…õ’º∆à…õ  ü…® Ñ…õ»∂…® ç…õ
’°…® ü ü ÷Ü ä Ä…õ ü è ’°÷Ö Ä”Ñ  Ñ…®’º…õ.

≈Å…õ»∂'÷Ü ÷Ü…õ…õ »∂…¶…®÷Ü …®’º ÷Ñ Ä«ü∆à»∂…®∆à…õ

```rust,compile_fail
# use std::cell::RefCell;
thread_local! {
    pub static StaticVecs: RefCell<Vec<&'static str>> = RefCell::new(Vec::new());
}

/// saves the input given into a thread local `Vec<&'static str>`
fn store(input: &'static str) {
    StaticVecs.with_borrow_mut(|v| v.push(input));
}

/// Calls the function with it's input (must have the same lifetime!)
fn demo<'a>(input: &'a str, f: fn(&'a str)) {
    f(input);
}

fn main() {
    demo("hello", store); // "hello" is 'static. Can call `store` fine

    {
        let smuggle = String::from("smuggle");

        // `&smuggle` is not static. If we were to call `store` with `&smuggle`,
        // we would have pushed an invalid lifetime into the `StaticVecs`.
        // Therefore, `fn(&'static str)` cannot be a subtype of `fn(&'a str)`
        demo(&smuggle, store);
    }

    // use after free üòø
    StaticVecs.with_borrow(|v| println!("{v:?}"));
}
```

«û’º…ñ »∂…¶«ü»∂'÷Ü ’°…¶ è  Ñ ä’º∆à»∂…®÷Ö’º »∂ è÷Ñ…õ÷Ü,  ä’º ü…®”Ñ…õ «ü’º è»∂…¶…®’º…¢ …õ ü÷Ü…õ …®’º »∂…¶…õ  ü«ü’º…¢ ä«ü…¢…õ, «ü Ä…õ
**∆à÷Ö’º»∂ Ä«ü** ã«ü Ä…®«ü’º»∂ ÷Ö ã…õ Ä »∂…¶…õ…® Ä «ü Ä…¢ ä ç…õ’º»∂÷Ü.

’å÷Ö’°, »∂…¶…®÷Ü …®÷Ü «ü ü ü ’°…õ ü ü «ü’º…ñ …¢÷Ö÷Ö…ñ  Ñ÷Ö Ä »∂…¶…õ »∂ è÷Ñ…õ÷Ü »∂…¶…õ ÷Ü»∂«ü’º…ñ«ü Ä…ñ  ü…®…Æ Ä«ü Ä è ÷Ñ Ä÷Ö ã…®…ñ…õ÷Ü, …Æ ä»∂
…¶÷Ö’° …®÷Ü  ã«ü Ä…®«ü’º∆à…õ …ñ…õ»∂…õ Ä ç…®’º…õ…ñ  Ñ÷Ö Ä »∂ è÷Ñ…õ÷Ü »∂…¶«ü»∂ * è÷Ö ä* …ñ…õ Ñ…®’º…õ? «û ÷Ü»∂ Ä ä∆à»∂, …®’º Ñ÷Ö Ä ç«ü ü ü è
÷Ü÷Ñ…õ«ü”Ñ…®’º…¢, …®’º…¶…õ Ä…®»∂÷Ü »∂…¶…õ  ã«ü Ä…®«ü’º∆à…õ ÷Ö Ñ …®»∂÷Ü  Ñ…®…õ ü…ñ÷Ü. ∆ó Ñ «ü ÷Ü»∂ Ä ä∆à»∂ `‚±Æ è∆¨ è÷Ñ…õ`
…¶«ü÷Ü «ü …¢…õ’º…õ Ä…®∆à «ü Ä…¢ ä ç…õ’º»∂ `«û` »∂…¶«ü»∂ …®÷Ü  ä÷Ü…õ…ñ …®’º «ü  Ñ…®…õ ü…ñ `«ü`, »∂…¶…õ’º ‚±Æ è∆¨ è÷Ñ…õ'÷Ü  ã«ü Ä…®«ü’º∆à…õ
÷Ö ã…õ Ä `«û` …®÷Ü …õ”º«ü∆à»∂ ü è `«ü`'÷Ü  ã«ü Ä…®«ü’º∆à…õ ÷Ö ã…õ Ä `«û`.

”á÷Ö’°…õ ã…õ Ä …® Ñ `«û` …®÷Ü  ä÷Ü…õ…ñ …®’º  ç ä ü»∂…®÷Ñ ü…õ  Ñ…®…õ ü…ñ÷Ü:

* ∆ó Ñ «ü ü ü  ä÷Ü…õ÷Ü ÷Ö Ñ `«û` «ü Ä…õ ∆à÷Ö ã«ü Ä…®«ü’º»∂, »∂…¶…õ’º ‚±Æ è∆¨ è÷Ñ…õ …®÷Ü ∆à÷Ö ã«ü Ä…®«ü’º»∂ ÷Ö ã…õ Ä `«û`
* ∆ó Ñ «ü ü ü  ä÷Ü…õ÷Ü ÷Ö Ñ `«û` «ü Ä…õ ∆à÷Ö’º»∂ Ä«ü ã«ü Ä…®«ü’º»∂, »∂…¶…õ’º ‚±Æ è∆¨ è÷Ñ…õ …®÷Ü ∆à÷Ö’º»∂ Ä«ü ã«ü Ä…®«ü’º»∂ ÷Ö ã…õ Ä `«û`
* √ò»∂…¶…õ Ä’°…®÷Ü…õ, ‚±Æ è∆¨ è÷Ñ…õ …®÷Ü …®’º ã«ü Ä…®«ü’º»∂ ÷Ö ã…õ Ä `«û`

```rust
use std::cell::Cell;

struct MyType<'a, 'b, A: 'a, B: 'b, C, D, E, F, G, H, In, Out, Mixed> {
    a: &'a A,     // covariant over 'a and A
    b: &'b mut B, // covariant over 'b and invariant over B

    c: *const C,  // covariant over C
    d: *mut D,    // invariant over D

    e: E,         // covariant over E
    f: Vec<F>,    // covariant over F
    g: Cell<G>,   // invariant over G

    h1: H,        // would also be covariant over H except...
    h2: Cell<H>,  // invariant over H, because invariance wins all conflicts

    i: fn(In) -> Out,       // contravariant over In, covariant over Out

    k1: fn(Mixed) -> usize, // would be contravariant over Mixed except..
    k2: Mixed,              // invariant over Mixed, because invariance wins all conflicts
}
```
